{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Form, Input, Button, Checkbox, Alert, Layout } from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport { login } from '@redux/auth/actions';\nimport { getResponseError } from '@lib/utils';\nimport { getGlobalConfig } from 'src/services';\nimport Link from 'next/link';\nimport './index.less';\nconst FormItem = Form.Item;\n\nclass Login extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"handleOk\", data => {\n      const {\n        login: handlerLogin\n      } = this.props;\n      handlerLogin(data);\n    });\n  }\n\n  render() {\n    const {\n      ui\n    } = this.props;\n    const {\n      loginAuth = {\n        requesting: false,\n        error: null,\n        success: false\n      }\n    } = this.props;\n    return __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, \"Login\")), __jsx(\"div\", {\n      className: \"form\"\n    }, __jsx(\"div\", {\n      className: \"logo\"\n    }, ui.logo ? __jsx(\"div\", null, __jsx(\"img\", {\n      alt: \"logo\",\n      src: ui && ui.logo\n    })) : ui.siteName, __jsx(\"h2\", null, \"Admin Panel\")), loginAuth.error && __jsx(Alert, {\n      message: \"Error\",\n      description: getResponseError(loginAuth.error),\n      type: \"error\"\n    }), loginAuth.success ? __jsx(Alert, {\n      message: \"Login success\",\n      type: \"success\",\n      description: \"Redirecting...\"\n    }) : __jsx(Form, {\n      onFinish: this.handleOk,\n      initialValues: {\n        email: '',\n        password: '',\n        remember: true\n      }\n    }, __jsx(FormItem, {\n      hasFeedback: true,\n      name: \"username\",\n      validateTrigger: ['onChange', 'onBlur'],\n      rules: [{\n        required: true,\n        message: 'Please input email or username!'\n      }]\n    }, __jsx(Input, {\n      placeholder: \"Email address or Username\"\n    })), __jsx(FormItem, {\n      hasFeedback: true,\n      name: \"password\",\n      validateTrigger: ['onChange', 'onBlur'],\n      rules: [{\n        required: true,\n        message: 'Please input your password!'\n      }]\n    }, __jsx(Input.Password, {\n      placeholder: \"Password\"\n    })), __jsx(\"div\", {\n      className: \"sub-para\"\n    }, __jsx(Form.Item, {\n      name: \"remember\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, __jsx(Checkbox, null, \"Remember me\")), __jsx(Link, {\n      href: \"/auth/forgot\"\n    }, __jsx(\"a\", null, \"Forgot password?\"))), __jsx(Button, {\n      type: \"primary\",\n      onClick: this.handleOk,\n      loading: loginAuth.requesting,\n      htmlType: \"submit\"\n    }, \"Sign in\"))), __jsx(\"div\", {\n      className: \"footer\",\n      style: {\n        padding: '15px'\n      }\n    }, \"Version\", ' ', getGlobalConfig().NEXT_PUBLIC_BUILD_VERSION, ' ', \"- Copyright\", ' ', new Date().getFullYear()));\n  }\n\n}\n\n_defineProperty(Login, \"layout\", 'public');\n\n_defineProperty(Login, \"authenticate\", false);\n\nconst mapStates = state => ({\n  loginAuth: state.auth.login,\n  ui: state.ui\n});\n\nconst mapDispatch = {\n  login\n};\nexport default connect(mapStates, mapDispatch)(Login);","map":{"version":3,"sources":["/Volumes/Chorus/__Code Source/Slutzys/creator site/admin/pages/auth/login.tsx"],"names":["Form","Input","Button","Checkbox","Alert","Layout","PureComponent","connect","Head","login","getResponseError","getGlobalConfig","Link","FormItem","Item","Login","data","handlerLogin","props","render","ui","loginAuth","requesting","error","success","logo","siteName","handleOk","email","password","remember","required","message","padding","NEXT_PUBLIC_BUILD_VERSION","Date","getFullYear","mapStates","state","auth","mapDispatch"],"mappings":"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","sourcesContent":["import {\n  Form, Input, Button, Checkbox, Alert, Layout\n} from 'antd';\nimport { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport Head from 'next/head';\nimport { login } from '@redux/auth/actions';\nimport { getResponseError } from '@lib/utils';\nimport { getGlobalConfig } from 'src/services';\nimport Link from 'next/link';\nimport './index.less';\n\nconst FormItem = Form.Item;\n\ninterface IProps {\n  loginAuth: any;\n  ui: any;\n  login: Function;\n}\n\nclass Login extends PureComponent<IProps> {\n  static layout: string = 'public';\n\n  static authenticate: boolean = false;\n\n  handleOk = (data) => {\n    const { login: handlerLogin } = this.props;\n    handlerLogin(data);\n  };\n\n  render() {\n    const { ui } = this.props;\n    const {\n      loginAuth = { requesting: false, error: null, success: false }\n    } = this.props;\n    return (\n      <Layout>\n        <Head>\n          <title>Login</title>\n        </Head>\n        <div className=\"form\">\n          <div className=\"logo\">\n            {ui.logo ? <div><img alt=\"logo\" src={ui && ui.logo} /></div> : ui.siteName}\n            <h2>Admin Panel</h2>\n          </div>\n          {loginAuth.error && (\n            <Alert\n              message=\"Error\"\n              description={getResponseError(loginAuth.error)}\n              type=\"error\"\n            />\n          )}\n          {loginAuth.success ? (\n            <Alert\n              message=\"Login success\"\n              type=\"success\"\n              description=\"Redirecting...\"\n            />\n          ) : (\n            <Form\n              onFinish={this.handleOk}\n              initialValues={{\n                email: '',\n                password: '',\n                remember: true\n              }}\n            >\n              <FormItem\n                hasFeedback\n                name=\"username\"\n                validateTrigger={['onChange', 'onBlur']}\n                rules={[\n                  { required: true, message: 'Please input email or username!' }\n                ]}\n              >\n                <Input\n                  placeholder=\"Email address or Username\"\n                />\n              </FormItem>\n              <FormItem\n                hasFeedback\n                name=\"password\"\n                validateTrigger={['onChange', 'onBlur']}\n                rules={[\n                  { required: true, message: 'Please input your password!' }\n                ]}\n              >\n                <Input.Password\n                  placeholder=\"Password\"\n                />\n              </FormItem>\n              <div className=\"sub-para\">\n                <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                  <Checkbox>Remember me</Checkbox>\n                </Form.Item>\n                <Link href=\"/auth/forgot\">\n                  <a>Forgot password?</a>\n                </Link>\n              </div>\n              <Button\n                type=\"primary\"\n                onClick={this.handleOk}\n                loading={loginAuth.requesting}\n                htmlType=\"submit\"\n              >\n                Sign in\n              </Button>\n            </Form>\n          )}\n        </div>\n        <div className=\"footer\" style={{ padding: '15px' }}>\n          Version\n          {' '}\n          {getGlobalConfig().NEXT_PUBLIC_BUILD_VERSION}\n          {' '}\n          - Copyright\n          {' '}\n          {new Date().getFullYear()}\n        </div>\n      </Layout>\n    );\n  }\n}\n\nconst mapStates = (state: any) => ({\n  loginAuth: state.auth.login,\n  ui: state.ui\n});\nconst mapDispatch = { login };\nexport default connect(mapStates, mapDispatch)(Login);\n"]},"metadata":{},"sourceType":"module"}